import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Payout

```bash
https://api.paysecure.net/api/v1/createSession
```

This API is used to initiate a payout session for a customer. By passing the `customerId` (generated via the `createCustomer` API) and specifying `"type": "payout"`, a payout session is started. A `sessionURL` is returned in the response, which can be used to redirect the customer to the payout cashier. The customer can then select the payment method, pass required parameters, and the payout will be processed.

### Parameters:

|  Parameter                       | 	Type    |  Description	                                                                                                       |
|----------------------------------|------------|----------------------------------------------------------------------------------------------------------------------|
|  customerId                      |  String    | The unique ID of the customer for whom the payout session is created. This ID is generated by the createCustomer API.|
|  currency                        |  String    | The currency of the payout session (e.g., USD).                                                                      |
|  products                        |  array     | A list of products associated with the payout (e.g., name and price).                                                |
|  totalAmount	                   |  String    | The total payout amount (optional. calculated dynamically if value is not passed).                                   |
|  tax_amount                      |  String    | The tax amount to be applied (optional).                                                                             |
|  tax_percent                     |  String    | The tax percentage to be applied (optional).                                                                         |
|  type                            |  String    | Should be set to "payout" to initiate a payout session.                                                              |
|  success_redirect                |  String    | The URL where the customer will be redirected after a successful payout.                                             |
|  failure_redirect                |  String    | The URL where the customer will be redirected after a failed payout attempt.                                         |
|  success_callback                |  String    | The callback URL for successful payout.                                                                              |
|  failure_callback                |  String    | The callback URL for failed payout                                                                                   |
|  extraParam                      |  object    | Contains additional parameters for the payout session.                                                               |
|  extraParam.showCryptoConversion |  String    | Set to "yes" to display cryptocurrency conversion.                                                                   |
|  extraParam.cryptoCurrencies     |  String    | A list of accepted cryptocurrencies (e.g., BTC, ETH, USDT).                                                          |

### Request Headers:

- __BrandId__: Your unique brand ID (required).
- __Content-Type__: application/json (required).

### Response:

The API will return a JSON object containing the `sessionURL` that can be used to redirect the customer to the payout cashier.

```json
{
    "sessionUrl": "https://staging.paysecure.net/payoutSession/68341ad35f895955355d5452/",
    "brandId": "c4003b2c-22d4-4dc1-ad0c-c6b54f8c9636",
    "customerId": "67c9983fba18400ab6cceb8f",
    "sessionId": "68341ad35f895955355d5452",
    "expiryOn": 1748246103,
    "createdOn": 1748245203
}
```

**AUTHORIZATION** Bearer Token
___
__Token__ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `<token>`

### HEADERS
___

__BrandId__  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
30f7ce6e-3b7e-46a2-9b50-484fc55be689
___

**Body** raw (json)

```json
{
    "customerId": "67c9983fba18400ab6cceb8f",
    "currency": "USD",
    "products": [
        {
            "name": "Product1",
            "price": "2"
        }
    ],
    "totalAmount": "", 
    "tax_amount": "",
    "tax_percent": "",
    "type": "payout",
    "success_redirect": "https://your.success.redirect.com",
    "failure_redirect": "https://your.failure.redirect.com",
    "success_callback": "https://your.success.callback.com",
    "failure_callback": "https://your.failure.callback.com",
    "extraParam": {
        "showCryptoConversion": "yes",
        "cryptoCurrencies": "[\"BTC\",\"ETH\",\"USDT\"]"
    }
}
```

### Example Request

<Tabs>
    <TabItem value='curl' label='cURL'>
        <Tabs>
            <TabItem value='payoutsessionwithcrypto' label='payoutSession with Crypto'>
                ```bash
                curl --location 'https://api.paysecure.net/api/v1/createSession' \
--header 'BrandId: {yourBrandID}' \
--data '{
    "customerId": "67c9983fba18400ab6cceb8f",
    "currency": "USD",
    "products": [
        {
            "name": "Product1",
            "price": "2"
        }
    ],
    "totalAmount": "",
    "tax_amount": "",
    "tax_percent": "",
    "type": "payout",
    "success_redirect": "https://your.success.redirect.com",
    "failure_redirect": "https://your.failure.redirect.com",
    "success_callback": "https://your.success.callback.com",
    "failure_callback": "https://your.failure.callback.com",
    "extraParam": {
        "showCryptoConversion": "yes",
        "cryptoCurrencies": "[\"BTC\",\"ETH\",\"USDT\"]"
    }
}'
```

### Example Response

```json
{
  "sessionUrl": "https://staging.paysecure.net/payoutSession/68341e385f895955355d5671/",
  "brandId": "{yourBrandID}",
  "customerId": "67c9983fba18400ab6cceb8f",
  "sessionId": "68341e385f895955355d5671",
  "expiryOn": 1748246972,
  "createdOn": 1748246072
}
```
            </TabItem>
            <TabItem value='payoutSession' label='payoutSession'>
            ```bash
            curl --location 'https://api.paysecure.net/api/v1/createSession' \
--header 'BrandId: {yourBrandID}' \
--data '{
    "customerId": "67c9983fba18400ab6cceb8f",
    "currency": "USD",
    "products": [
        {
            "name": "Product1",
            "price": "2"
        }
    ],
    "totalAmount": "",
    "tax_amount": "",
    "tax_percent": "",
    "type": "payout",
    "success_redirect": "https://your.success.redirect.com",
    "failure_redirect": "https://your.failure.redirect.com",
    "success_callback": "https://your.success.callback.com",
    "failure_callback": "https://your.failure.callback.com",
    "extraParam": {

    }
}'
```

### Example Response

```json
{
  "sessionUrl": "https://staging.paysecure.net/payoutSession/68341e385f895955355d5671/",
  "brandId": "{yourBrandID}",
  "customerId": "67c9983fba18400ab6cceb8f",
  "sessionId": "68341e385f895955355d5671",
  "expiryOn": 1748246972,
  "createdOn": 1748246072
}
```
            </TabItem>
        </Tabs>
    </TabItem>
    <TabItem value='java' label='Java'>
        <Tabs>
            <TabItem value='payoutsessionwithcrypto' label='payoutsessionwithcrypto'>
                ```bash
                OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("text/plain");
RequestBody body = RequestBody.create(mediaType, "{\r\n    \"customerId\": \"67c9983fba18400ab6cceb8f\",\r\n    \"currency\": \"USD\",\r\n    \"products\": [\r\n        {\r\n            \"name\": \"Product1\",\r\n            \"price\": \"2\"\r\n        }\r\n    ],\r\n    \"totalAmount\": \"\",\r\n    \"tax_amount\": \"\",\r\n    \"tax_percent\": \"\",\r\n    \"type\": \"payout\",\r\n    \"success_redirect\": \"https://your.success.redirect.com\",\r\n    \"failure_redirect\": \"https://your.failure.redirect.com\",\r\n    \"success_callback\": \"https://your.success.callback.com\",\r\n    \"failure_callback\": \"https://your.failure.callback.com\",\r\n    \"extraParam\": {\r\n        \"showCryptoConversion\": \"yes\",\r\n        \"cryptoCurrencies\": \"[\\\"BTC\\\",\\\"ETH\\\",\\\"USDT\\\"]\"\r\n    }\r\n}");
Request request = new Request.Builder()
  .url("https://api.paysecure.net/api/v1/createSession")
  .method("POST", body)
  .addHeader("BrandId", "{yourBrandID}")
  .build();
Response response = client.newCall(request).execute();
```

### Example Response

```json
{
  "sessionUrl": "https://staging.paysecure.net/payoutSession/68341e385f895955355d5671/",
  "brandId": "{yourBrandID}",
  "customerId": "67c9983fba18400ab6cceb8f",
  "sessionId": "68341e385f895955355d5671",
  "expiryOn": 1748246972,
  "createdOn": 1748246072
}
```
            </TabItem>

            <TabItem value='payoutSession' label='payoutSession'>
                ```bash
                OkHttpClient client = new OkHttpClient().newBuilder()
  .build();
MediaType mediaType = MediaType.parse("text/plain");
RequestBody body = RequestBody.create(mediaType, "{\r\n    \"customerId\": \"67c9983fba18400ab6cceb8f\",\r\n    \"currency\": \"USD\",\r\n    \"products\": [\r\n        {\r\n            \"name\": \"Product1\",\r\n            \"price\": \"2\"\r\n        }\r\n    ],\r\n    \"totalAmount\": \"\",\r\n    \"tax_amount\": \"\",\r\n    \"tax_percent\": \"\",\r\n    \"type\": \"payout\",\r\n    \"success_redirect\": \"https://your.success.redirect.com\",\r\n    \"failure_redirect\": \"https://your.failure.redirect.com\",\r\n    \"success_callback\": \"https://your.success.callback.com\",\r\n    \"failure_callback\": \"https://your.failure.callback.com\",\r\n    \"extraParam\": {\r\n\r\n    }\r\n}");
Request request = new Request.Builder()
  .url("https://api.paysecure.net/api/v1/createSession")
  .method("POST", body)
  .addHeader("BrandId", "{yourBrandID}")
  .build();
Response response = client.newCall(request).execute();
```

### Example Response

```json
{
  "sessionUrl": "https://staging.paysecure.net/payoutSession/68341e385f895955355d5671/",
  "brandId": "{yourBrandID}",
  "customerId": "67c9983fba18400ab6cceb8f",
  "sessionId": "68341e385f895955355d5671",
  "expiryOn": 1748246972,
  "createdOn": 1748246072
}
```
            </TabItem>
        </Tabs>
    </TabItem>
</Tabs>